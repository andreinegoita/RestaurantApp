<UserControl x:Class="RestaurantApp.Views.LoginView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:RestaurantApp.Views"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="900">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="400"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Rectangle Grid.ColumnSpan="3" Grid.RowSpan="3" Fill="#30000000">
            <Rectangle.OpacityMask>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="Black"/>
                    <GradientStop Color="Transparent" Offset="1"/>
                </LinearGradientBrush>
            </Rectangle.OpacityMask>
        </Rectangle>

        <Border Grid.Column="1" Grid.Row="1" Background="White" CornerRadius="10" 
                Padding="30" BorderBrush="#DDDDDD" BorderThickness="1"
                Effect="{StaticResource ShadowEffect}">
            <StackPanel>
                <Image Source="/Assets/Images/logo.png" Height="70" Margin="0,0,0,20"/>

                <TextBlock Text="Autentificare" FontSize="24" FontWeight="Bold" 
                           HorizontalAlignment="Center" Margin="0,0,0,30"/>

                <TextBlock Text="{Binding ErrorMessage}" Foreground="Red" 
                           TextWrapping="Wrap" Margin="0,0,0,10" 
                           Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}"/>

                <TextBlock Text="Email" FontWeight="Medium" Margin="0,0,0,5"/>
                <TextBox Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}" 
                         Style="{StaticResource StandardTextBox}" 
                         Margin="0,0,0,15"/>

                <TextBlock Text="Parolă" FontWeight="Medium" Margin="0,0,0,5"/>
                <PasswordBox x:Name="PasswordBox" Margin="0,0,0,20" 
                             Style="{StaticResource StandardPasswordBox}"/>

                <Button Content="Autentificare" Command="{Binding LoginCommand}" 
                        Style="{StaticResource PrimaryButton}" 
                        Height="40" Margin="0,10,0,15">
                    <Button.CommandParameter>
                        <Binding ElementName="PasswordBox" Path="Password"/>
                    </Button.CommandParameter>
                </Button>

                <ProgressBar IsIndeterminate="True" Height="4" Margin="0,0,0,15" 
                             Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}"/>

                <TextBlock HorizontalAlignment="Center" Margin="0,10,0,0">
                    <Run Text="Nu ai cont?"/>
                    <Hyperlink Command="{Binding RegisterCommand}">
                        <Run Text="Înregistrează-te"/>
                    </Hyperlink>
                </TextBlock>

                <Button Content="Înapoi la ecranul principal" Command="{Binding BackCommand}" 
                        Style="{StaticResource TextButton}" Margin="0,15,0,0"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>